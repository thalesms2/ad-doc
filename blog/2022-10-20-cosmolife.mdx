---
slug:  cosmolife
title: Cosmolife
authors: [thales]
tags: [cliente, cosmolife, multi, comissionado, sql]
---


# Cosmolife
Dona: Cristiane
Empresa realiza pedidos comissionados, podem ter comissão para 3 comissionados ou 1
se o cliente for representante e estiver vendendo para si mesmo não tem comissionado 
então fica 1 representante sem comissionado
e tiver comissao o gerente e o coordenador recebe uma porcentagem de comissao
se o representante estiver vendendo para um CNPJ terá outra comissao

tabela que relaciona comissão com nota
`ve013`

```sql
select * from ve013 where cmsnumnot >= 10840
where cmscodrep = 64
```

ver imagem insert_scripts
```sql
INSERT INTO public.ve013(
            cmsempcod, cmsnumnot, cmsnumser, cmsnumpar, cmscodrep, cmstip, 
            cmsvlrpar, cmsdatemip, cmsdatvenp, cmsvlrpagp, cmsvlrapag, cmsbas, 
            cmsper, cmsvlr, cmsvlrsal, cmspos, cmspercli, cmsorigem, cmsdatpagp)
select 
       cmsempcod, 10849      , cmsnumser, cmsnumpar, cmscodrep, cmstip, 
            cmsvlrpar, '2022-10-03',cmsdatemip, cmsdatvenp, cmsvlrpagp, cmsvlrapag, cmsbas, 
            cmsper, cmsvlr, cmsvlrsal, cmspos, cmspercli, cmsorigem, cmsdatpagp

    VALUES (?, ?, ?, ?, ?, ?, 
            ?, ?, ?, ?, ?, ?, 
            ?, ?, ?, ?, ?, ?, ?);
```

```sql
select * from ve013 where cmsnumnot >= 10840
where cmscodrep = 64
```